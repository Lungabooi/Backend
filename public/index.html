<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Document</title>
</head>
<body>
    

    <h1 >Displaying all users</h1>
    <button type="button" onclick="window.location.href='login.html'">Login</button>
    <table class="table">
        <thead>
          <tr>
            <th scope="col">User type</th>
            <th scope="col">email</th>
            <th scope="col">password</th>
            <th scope="col">Full Name </th>
            
            

          </tr>
        </thead>
        <tbody class="users">
          <tr >
            <td></td>
          </tr>
        
          </tr>
        </tbody>
      </table>




    <ul class="users"></ul>


    <h1 >Displaying all products</h1>
    <!-- <ul class="products"></ul> -->

    <table class="table">
        <thead>
          <tr>
            <th scope="col">Name</th>
            <th scope="col">price</th>
            <th scope="col">weight</th>
            <th scope="col">Category</th>
            
            

          </tr>
        </thead>
        <tbody class="products">
          <tr >
            <td></td>
          </tr>
        
          </tr>
        </tbody>
      </table>
    
</body>

<script>
    // define array

 // define array
 let allUsers=[]
//fetch data
    fetch("http://localhost:6969/users")
    .then(res => res.json())
    .then(data =>{
        allUsers = data,
        console.log(allUsers)
        //display
        function showUsers() {
        document.querySelector(".users").innerHTML = '';
    //loop over them
        allUsers.forEach((user,index) => {
            document.querySelector('.users').innerHTML +=`
        <td>${user.user_type}</td>     
        <td>${user.email}</td> 
        <td>${user.password}</td>
        <td>${user.full_name}<td> `
        });
    }
    //call display
    showUsers();
    }
    );

    let allProducts=[]
//fetch data
    fetch("http://localhost:6969/products")
    .then(res => res.json())
    .then(data =>{
        allProducts = data,
        console.log(allProducts)
        //display
        function showProducts() {
        document.querySelector(".products").innerHTML = '';
    //loop over them
        allProducts.forEach((product,index) => {
            document.querySelector('.products').innerHTML +=`
        <td>${product.name}</td> 
        <td>R${product.price}</td>
        <td>${product.weight}</td>
        <td>${product.category}</td>   `
        });
    }
    //call display
    showProducts();
    }
    );


</script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

</html>